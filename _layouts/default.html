<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- config -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="image/png" href="{{site.baseurl}}/img/favicon.png">
        
        <!-- seo -->
        <title>{{page.title}}</title>
        <meta property="og:image" content="{{site.baseurl}}{{page.image}}">
        <meta name="description" content="{{page.description}}">
        <meta name="keywords" content="{{page.keywords}}">
        <link rel="canonical" href="{{ site.url }}{{ page.url | replace:'index.html','' }}">

        <!-- assets -->
        <link href="{{site.baseurl}}/css/main.css" rel="stylesheet">
        {% if page.sheet %}<link href="{{site.baseurl}}{{page.sheet}}" rel="stylesheet">{% endif %}
        
    </head>
    <body>
        <header>
            <div id="head-nav">
                <h1><a href="{{site.baseurl}}/">Stringtrax</a></h1>
                <div class="mobile-nav">
                    <input class="checkbox" type="checkbox" name="" id="" />
                    <div class="hamburger-lines">
                        <span class="line line1"></span>
                        <span class="line line2"></span>
                        <span class="line line3"></span>
                    </div>
                    <nav>
                        <ul>
                            <li><a href="{{site.baseurl}}/">Home</a></li>
                            <li><a href="{{site.baseurl}}/media">Media</a></li>
                            <li><a href="{{site.baseurl}}/about">About</a></li>
                            <li><a href="{{site.baseurl}}/contact">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        {{content}}
        <footer>
            <a href="{{site.baseurl}}/">stringtrax.com</a>
        </footer>
        <script>
            //rough check for desktop devices
            document.body.setAttribute("data-desktop", (window?.ontouchstart || navigator.maxTouchPoints) ? "false" : "true");

            //intersection observer to animate-in text at certain page points
            const observerCheckHit = (/**@type {IntersectionObserverEntry}*/element )=>
            {
                if (element.isIntersecting)
                {
                    requestAnimationFrame( ()=>element.target.setAttribute("data-anim", "on") );
                }
            };
            const observer = new IntersectionObserver( (e)=>e.forEach(observerCheckHit), { root: null, rootMargin: '0px', threshold: 0.1 } );
            document.querySelectorAll("[data-anim]").forEach(anim=>observer.observe(anim));

        </script>
    </body>
</html>