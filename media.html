---
title: "Media"
sheet: "/css/media.css"

audio:
  - artist:  "Kallen O&apos;Connor"
    track:   "Schindler&apos;s List"
    spotify: "602fNu8uLA7DFX9ylVH0si"
    youtube: "SMIg7QTq4-U"
    apple:   "schindlers-list-feat-marshall-griffith-single/1564704068"
    mp3:     "schindlers-list"
    art:     "Schindler's List Cover Art.png" 
    
  - artist:  "Emily & Ivory"
    track:   "I Waste My Time"
    spotify: "0gm0wbBvS0SjmedJdqaxyX"
    youtube: "IF7oamq4gEQ"
    apple:   "i-waste-my-time/1538223130?i=1538223148"
    mp3:     "waste-my-time"
    art:     "Emily and Ivory Album Cover.jpg"

  - artist:  "Emily & Ivory"
    track:   "Why Do I Trace My Troubles Back to You"
    spotify: "38jm2hLV6jD3jXJMPpymIM"
    youtube: "plQepYqPVV8"
    apple:   "why-do-i-trace-my-troubles-back-to-you/1538223130?i=1538223144"
    mp3:     "trace-my-troubles"
    art:     "Emily and Ivory Album Cover.jpg"

video:
  "Foo7PwkjR5I": "Hark the Herald Angels Sing"
  "6MrF5GOdEOE": "What Child is This?"
  "8c3-ie20j2E": "Go Tell It On The Mountain"
  "QRvTxrjvdFU": "O Come Come Emmanuel feat. Kallen O'Connor, Violin"
  "hTCrP4PteVU": "O Come Come Emmanuel, Emily & Ivory"
  "gvp4Ecdm1dE": "Parkside Church Easter Service - April 12, 2020"
  "mtyD5Vtyq8s": "Strauss Violin Sonata"

---
<main>

    {% comment %} Find the first video title and id and store that as new variables {% endcomment %}
    {% for video in page.video %}
        {% if forloop.first %}
            {% capture first_video_title %}{{video[1]}}{% endcapture %}
            {% capture first_video_id %}{{video[0]}}{% endcapture %}
        {% endif %}
    {% endfor %}

    <div id="audio">
        {% for song in page.audio %}
            <div class="audio-player-container">
                <audio src="{{site.baseurl}}/mp3/{{song.mp3}}.mp3" preload="metadata" loop></audio>
                <img class="albumCover" src="{{site.baseurl}}/img/{{song.art}}">
                <button class="play-icon"></button>
                <div id="text">
                    <h2>{{song.artist}}</h2>
                    <h2><em>{{song.track}}</em></h2>
                </div>
                <span class="current-time time">0:00</span>
                <input type="range" class="seek-slider" max="100" value="0">
                <span class="duration time">0:00</span>
                <div id="links">
                    <a href="https://open.spotify.com/track/{{song.spotify}}"  target="_blank"><img id="spotify" src="{{site.baseurl}}/img/spotifylogo.png"   ></a>
                    <a href="https://www.youtube.com/watch?v={{song.youtube}}" target="_blank"><img id="youtube" src="{{site.baseurl}}/img/YouTubeLogo.png"   ></a>
                    <a href="https://music.apple.com/us/album/{{song.apple}}"  target="_blank"><img id="apple"   src="{{site.baseurl}}/img/AppleMusicLogo.png"></a>
                </div>
            </div>
        {% endfor %}
    </div>

    <div id="video">
        <div class="video-gallery-container">
                <div id="frame-holder">
                    <div id="yt">
                        <!-- fallback iframe if the YT player code doesnt work-->
                        <iframe src="https://www.youtube.com/embed/{{ first_video_id }}?rel=0" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                </div>
                <h3 class="video-title">{{ first_video_title }}</h3>
            <div id="thumbs">
                {% for YTID in page.video %}
                    <div class="video" data-video="{{ YTID[0] }}" data-title="{{ YTID[1] }}">
                        <img class="thumbnail" src="https://i.ytimg.com/vi/{{ YTID[0] }}/mqdefault.jpg" data-title="{{ YTID[1] }}" />
                        <div class="play-button"><img src="{{site.baseurl}}/img/Playbutton.png" alt=""></div>
                        <p>{{ YTID[1] }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>


    <script defer src="https://www.youtube.com/iframe_api"></script>
    <script type="module">
        import CreateAudioPlayer from "/js/player-audio.js";
        import CreateVideoPlayer from "/js/player-video.js";
        import PlayerManager from "/js/player-manager.js";

        // create audio players
        document.querySelectorAll('.audio-player-container').forEach( element => CreateAudioPlayer(element, PlayerManager) );

        // create video player {% comment %} note the way the 2nd argument is actually a liquid page variable {% endcomment %}
        CreateVideoPlayer("yt", "{{first_video_id}}", "data-video", (element, match)=>
            {
                element.setAttribute("data-active", match.toString());
                if(match)
                {
                    const titleElement = document.querySelector(".video-title");
                    if(titleElement)
                    {
                        titleElement.innerHTML = element.getAttribute("data-title") || "";
                    }
                }
            }
        , PlayerManager);

    </script>

</main>
